# guest-os.cfg - guest software configuration

variants:
    # Linux section
    - @Linux:
        # os level 1 indicator
        os_type = linux
        tmp_dir = /tmp
        deployed_test_data_path = /tmp/data/
        deployed_packages_path = /tmp/packages/
        cdroms =
        shutdown_command = shutdown -h now
        reboot_command = shutdown -r now
        status_test_command = echo $?
        username = root
        password = 123456
        shell_client = ssh
        shell_port = 22
        file_transfer_client = scp
        file_transfer_port = 22
        mem_chk_cmd = dmidecode -t 17 | awk -F: '/Size/ {print $2}'
        mem_chk_cur_cmd = grep MemTotal /proc/meminfo
        cpu_chk_cmd = grep -c processor /proc/cpuinfo
        variants:

            - Fedora:
                password = test1234
                vga = cirrus
                shell_prompt = "^\[.*\][\#\$]\s*$"
                username = root
                no setup
                unattended_install:
                    boot_path = "images/pxeboot"
                    kernel_params = "ks=cdrom nicdelay=60 console=ttyS0,115200 console=tty0"
                    anaconda_log = "yes"
                    # You have to use ks=floppy if you want to use floppies to
                    # hold your kickstart file
                    #kernel_params = "ks=floppy nicdelay=60 console=ttyS0,115200 console=tty0"
                variants:
                    - 17.64:
                        # os level 2 indicator
                        os_variant = f17
                        image_name = f17-64
                        # install subvariant configuration
                        0preinstall, unattended_install:
                            cdroms = cd1
                            configure_install = unattended_install
                            unattended_file = Fedora-17.ks
                        unattended_install:
                            #floppies = "fl"
                            #floppy_name = images/f17-64/ks.vfd
                            cdrom_unattended = isos/f17-64/ks.iso
                            kernel = isos/f17-64/vmlinuz
                            initrd = isos/f17-64/initrd.img
                        unattended_install.cdrom:
                            cdrom_cd1 = isos/Fedora-17-x86_64-DVD.iso
                            md5sum_cd1 = 26f3358a5f8973f0956093f28a0106e7
                            md5sum_1m_cd1 = 51988b8593ad488fe5a790a183cf3d81
                            kernel_params = "repo=cdrom:/dev/sr0 ks=cdrom:/dev/sr1 nicdelay=60 console=ttyS0,115200 console=tty0"

                    - 18.64:
                        # os level 2 indicator
                        os_variant = f18
                        image_name = f18-64
                        vm_arch_name = x86_64
                        # install subvariant configuration
                        0preinstall, unattended_install:
                            cdroms = cd1
                            configure_install = unattended_install
                            unattended_file = Fedora-18.ks
                        no unattended_install..floppy_ks
                        unattended_install:
                            kernel_params = "repo=cdrom:/dev/sr0 ks=cdrom:/dev/sr1 nicdelay=60 console=ttyS0,115200 console=tty0"
                            cdrom_unattended = isos/f18-64/ks.iso
                            kernel = isos/f18-64/vmlinuz
                            initrd = isos/f18-64/initrd.img
                            syslog_server_proto = tcp
                        unattended_install.cdrom:
                            cdrom_cd1 = isos/Fedora-18-x86_64-DVD.iso
                            md5sum_cd1 = 17d5c860bf9dc83e035882a7b33ffc77
                            md5sum_1m_cd1 = cb8d16fd4c32e0f4b57d60f1e08a7dce
                        unattended_install.url:
                            url = http://dl.fedoraproject.org/pub/fedora/linux/releases/18/Fedora/x86_64/os

            - CentOS:
                password = test1234
                vga = cirrus
                shell_prompt = "^\[.*\][\#\$]\s*$"
                username = root
                no setup
                unattended_install, check_block_size.4096_512, check_block_size.512_512, svirt_install:
                    boot_path = images/pxeboot
                    kernel_params = "ks=cdrom nicdelay=60 console=ttyS0,115200 console=tty0"
                variants:
                    - 6.6:
                        # os level 2 indicator
                        os_variant = el6
                        image_name = el6
                        # install subvariant configuration
                        0preinstall, unattended_install:
                            cdroms = cd1
                            configure_install = unattended_install
                            unattended_file = CentOS-6-6.ks
                        unattended_install, check_block_size.4096_512, check_block_size.512_512, svirt_install:
                            syslog_server_proto = udp
                        variants:
                            - i386:
                                grub_file = /boot/grub/grub.conf
                                vm_arch_name = i686
                                image_name += -32
                                boot_path = isolinux
                                unattended_install, check_block_size.4096_512, check_block_size.512_512, svirt_install:
                                    cdrom_unattended = isos/el6-32/ks.iso
                                    kernel = isos/el6-32/vmlinuz
                                    initrd = isos/el6-32/initrd.img
                                unattended_install.cdrom, check_block_size.4096_512, check_block_size.512_512, svirt_install:
                                    cdrom_cd1 = isos/CentOS-6.6-i386-minimal.iso
                                    md5sum_cd1 = 8c14c9a379aa7c7477471938ca06447d
                                unattended_install..floppy_ks:
                                    floppies = "fl"
                                    floppy_name = images/centos66-32/ks.vfd
                            - x86_64:
                                grub_file = /boot/grub/grub.conf
                                vm_arch_name = x86_64
                                image_name += -64
                                unattended_install, check_block_size.4096_512, check_block_size.512_512, svirt_install:
                                    cdrom_unattended = isos/el6-64/ks.iso
                                    kernel = isos/el6-64/vmlinuz
                                    initrd = isos/el6-64/initrd.img
                                unattended_install.cdrom, check_block_size.4096_512, check_block_size.512_512, svirt_install:
                                    cdrom_cd1 = isos/CentOS-6.6-x86_64-minimal.iso
                                    md5sum_cd1 = eb3c8be6ab668e6d83a118323a789e6c
                                unattended_install..floppy_ks:
                                    floppies = "fl"
                                    floppy_name = images/centos66-64/ks.vfd
                    - 7.0:
                        # os level 2 indicator
                        os_variant = el7
                        image_name = el7
                        # install subvariant configuration
                        0preinstall, unattended_install:
                            cdroms = cd1
                            configure_install = unattended_install
                            unattended_file = CentOS-7-0.ks
                        unattended_install, check_block_size.4096_512, check_block_size.512_512, svirt_install:
                            syslog_server_proto = udp
                        variants:
                            - x86_64:
                                grub_file = /boot/grub/grub.conf
                                vm_arch_name = x86_64
                                image_name += -64
                                unattended_install, check_block_size.4096_512, check_block_size.512_512, svirt_install:
                                    cdrom_unattended = isos/el7-64/ks.iso
                                    kernel = isos/el7-64/vmlinuz
                                    initrd = isos/el7-64/initrd.img
                                unattended_install.cdrom, check_block_size.4096_512, check_block_size.512_512, svirt_install:
                                    cdrom_cd1 = isos/CentOS-7-x86_64-DVD-1611.iso
                                    md5sum_cd1 = 871d931b7d71cf5ecededb03c76583de
                                    host_services = yes
                                unattended_install..floppy_ks:
                                    floppies = "fl"
                                    floppy_name = images/rhel70-64/ks.vfd

            - Ubuntu:
                grub_file = /boot/grub/grub.cfg
                shell_prompt = "^.*@.*[\#\$]\s*$"
                password = test1234
                tmp_dir = /var/tmp
                deployed_test_data_path = /var/tmp/data/
                deployed_packages_path = /var/tmp/packages/
                image_name = ubuntu
                unattended_install, svirt_install:
                    kernel = linux
                    initrd = initrd
                    wait_no_ack = yes
                    kernel_params = "console=ttyS0,115200 console=tty0"
                variants:
                    - 14.04.3-server.x86_64:
                        image_name += -14.04.3-server-64
                        vm_arch_name = x86_64
                        os_variant = ubuntutrusty
                        # install subvariant configuration
                        0preinstall, unattended_install:
                            cdroms = cd1
                            configure_install = unattended_install
                            unattended_file = Ubuntu-14-04-3.preseed
                        unattended_install, svirt_install:
                            kernel = isos/ubuntu-server-14-04-3-64/vmlinuz
                            initrd = isos/ubuntu-server-14-04-3-64/initrd.gz
                            boot_path = install
                        unattended_install.cdrom, svirt_install:
                            host_services = yes
                            cdrom_cd1 = isos/ubuntu-14.04.3-server-amd64.iso
                            md5sum_cd1 = 9e5fecc94b3925bededed0fdca1bd417
                            md5sum_1m_cd1 = 4584dda4ac52aeeedefd1cd272deb38c
                    - 16.04-server.s390x:
                        image_name += -16.04-server-s390x
                        vm_arch_name = s390x
                        os_variant = ubuntutrusty
                        # install subvariant configuration
                        0preinstall, unattended_install:
                            cdroms = cd1
                            configure_install = unattended_install
                            unattended_file = Ubuntu-16-04.preseed
                        unattended_install, svirt_install:
                            kernel = isos/ubuntu-server-16-04-s390/vmlinuz
                            initrd = isos/ubuntu-server-16-04-s390/initrd.gz
                            boot_path = install
                        unattended_install.cdrom, svirt_install:
                            host_services = yes
                            cdrom_cd1 = isos/ubuntu-16.04-server-s390x.iso
                            md5sum_cd1 = 01545fa976c8367b4f0d59169ac4866c
                            md5sum_1m_cd1 = 4982356696dd141a340798a22bbf36e1

            - Kali:
                grub_file = /boot/grub/grub.cfg
                shell_prompt = "^.*@.*[\#\$]\s*$"
                username = root
                password = test1234
                # os level 2 indicator
                os_variant = kl
                tmp_dir = /var/tmp
                deployed_test_data_path = /var/tmp/data/
                deployed_packages_path = /var/tmp/packages/
                image_name = Kali_Linux
                unattended_install, svirt_install:
                    kernel = linux
                    initrd = initrd
                    wait_no_ack = yes
                # install subvariant configuration
                0preinstall, unattended_install:
                    cdroms = cd1
                    configure_install = unattended_install
                    unattended_file = Kali-2019.preseed
                variants:
                    - 2019.3:
                        vm_arch_name = x86_64
                        unattended_install, svirt_install:
                            kernel = isos/kl-2019.3/vmlinuz
                            initrd = isos/kl-2019.3/initrd.gz
                            boot_path = install
                        unattended_install.cdrom, svirt_install:
                            host_services = yes
                            cdrom_cd1 = isos/kali-linux-2019.3-amd64.iso
                            md5sum_cd1 = 9c6fb00558f78ed06992d89f745ef975
                            md5sum_1m_cd1 = f08bdda8e76f8c1fb8ce98ad48b256d2
                    - 2019.4:
                        vm_arch_name = x86_64
                        unattended_install, svirt_install:
                            kernel = isos/kl-2019.4/vmlinuz
                            initrd = isos/kl-2019.4/initrd.gz
                            boot_path = install
                        unattended_install.cdrom, svirt_install:
                            host_services = yes
                            cdrom_cd1 = isos/kali-linux-2019.4-amd64.iso
                            md5sum_cd1 = 3a99ad2b02eded2da421cba26365f86a
                            md5sum_1m_cd1 = b2e1aaf74c9b4fa7d4e373d71dd70e46

    - @Windows:
        # os level 1 indicator
        os_type = windows
        tmp_dir = C:\
        deployed_test_data_path = C:\data\
        deployed_packages_path = C:\packages\

        vfd_size = 2880k
        use_libvirt_cdrom_switch = yes
        shutdown_command = shutdown /s /f /t 0
        reboot_command = shutdown /r /f /t 0
        status_test_command = echo %errorlevel%
        shell_prompt = "^\w:\\.*>\s*$"
        username = Administrator
        # Attention: Changing the password in this file is not supported,
        # since files in winutils.iso use it.
        password = 1q2w3eP
        shell_linesep = "\r\n"
        shell_client = nc
        shell_port = 10022
        file_transfer_client = rss
        file_transfer_port = 10023
        redirs += " file_transfer"
        guest_port_remote_shell = 10022
        guest_port_file_transfer = 10023

        # This ISO will be used for all tests except install:
        cdrom_cd1 = isos/winutils.iso

        cpu_chk_cmd = echo %NUMBER_OF_PROCESSORS%
        mem_chk_cmd = wmic memphysical
        mem_chk_cur_cmd = wmic memphysical

        rtc_base = localtime
        network_query = ipconfig /all
        restart_network = ipconfig /renew
        mac_ip_filter = "Physical Address.*: (\w+-\w+-\w+-\w+-\w+-\w+)\s+.*IPv4 Address\W*: (\d+\.\d+\.\d+\.\d+)"

        #Try to catch windows bsod
        check_guest_bsod = yes

        # these config are used in virt_test_utils.get_readable_cdroms()
        cdrom_get_cdrom_cmd = "echo list volume > check_cdrom &&"
        cdrom_get_cdrom_cmd += " echo exit >> check_cdrom &&"
        cdrom_get_cdrom_cmd += " diskpart /s check_cdrom"
        cdrom_check_cdrom_pattern = "\d\s+(\w).*CD-ROM"
        cdrom_test_cmd = "dir %s:\"
        unattended_install.cdrom, whql.support_vm_install, svirt_install:
            timeout = 7200
            finish_program = deps/finish/finish.bat
            # process need to check after post install
            # process_check = $process_name
            cdroms += " winutils"
            cdrom_winutils = isos/winutils.iso
            drive_index_winutils = 2
            kernel =
            initrd =
        unattended_install, svirt_install:
            dump_path = C:\Windows\Memory.dmp
            analyze_cmd = E:\autoit3.exe E:\dump_control.au3
            sub_type = nmi_bsod_catch
            rename_error_image = yes
        variants:

            - WinXP:
                # os level 2 indicator
                os_variant = winxp
                image_name = winxp-sp3
                nic_wname = "Local Area Connection"
                no iometer_windows.performance.msi_on
                # MSI is not supported on WinXP/2003
                # download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/PCI-PCIe_FAQ.doc
                no jumbo, mac_change, device_assignment..pf_mac_change
                # netsh interface set interface name="Local Area Connection" admin=DISABLED
                # this cmd works since Win2003
                # http://support.microsoft.com/kb/262265 http://forum.sysinternals.com/command-used-to-disable-network-interface_topic9483_page1.html
                variants:
                    - i386:
                        # e1000 does not support WinXP guest
                        no e1000
                        vm_arch_name = i686
                        image_name += -32
                        variants:
                            - sp3:
                                # install subvariant configuration
                                0preinstall, unattended_install:
                                    configure_install = unattended_install
                                    unattended_file = winxp32.sif
                                    cdkey = CDKEY
                                install:
                                    cdrom_cd1 = isos/en_windows_xp_professional_with_service_pack_3_x86_cd_x14-80428.iso
                                    md5sum_cd1 = f424a52153e6e5ed4c0d44235cf545d5
                                    md5sum_1m_cd1 = ffe6bd8747f5a90e58710d28529e2c85
                                    user = user
                                    steps = steps/WinXP-32.steps
                                setup:
                                    steps = steps/WinXP-32-rss.steps
                                unattended_install.cdrom, whql.support_vm_install, svirt_install:
                                    cdrom_cd1 = isos/en_windows_xp_professional_with_service_pack_3_x86_cd_x14-80428.iso
                                    md5sum_cd1 = f424a52153e6e5ed4c0d44235cf545d5
                                    md5sum_1m_cd1 = ffe6bd8747f5a90e58710d28529e2c85
                                    floppies = "fl"
                                    floppy_name = images/winXP-32/answer.vfd

            - WinVista:
                # os level 2 indicator
                os_variant = vista
                image_name = vista-sp2
                nic_wname = "LAN-Verbindung"
                variants:
                    - x86_64:
                        vm_arch_name = x86_64
                        variants:
                            - sp1:
                                image_name += -sp1-64
                                install:
                                    cdrom_cd1 = isos/windows/WindowsVista-64.iso
                                    md5sum_cd1 = 11e2010d857fffc47813295e6be6d58d
                                    md5sum_1m_cd1 = 0947bcd5390546139e25f25217d6f165
                                    steps = steps/Win-Vista-64.steps
                                setup:
                                    steps = steps/WinVista-64-rss.steps
                                unattended_install.cdrom, whql.support_vm_install, svirt_install:
                                    cdrom_cd1 = isos/windows/WindowsVista-64.iso
                                    md5sum_cd1 = 11e2010d857fffc47813295e6be6d58d
                                    md5sum_1m_cd1 = 0947bcd5390546139e25f25217d6f165
                                    unattended_file = unattended/winvista-64-autounattend.xml
                                    floppies = "fl"
                                    floppy_name = images/winvista-sp1-64/answer.vfd
                            - sp2:
                                image_name += -sp2-64
                                unattended_install.cdrom, whql.support_vm_install, svirt_install:
                                    cdrom_cd1 = isos/windows/en_windows_vista_sp2_x64_dvd_342267.iso
                                    md5sum_cd1 = a1c024d7abaf34bac3368e88efbc2574
                                    md5sum_1m_cd1 = 3d84911a80f3df71d1026f7adedc2181
                                    sha1sum_cd1 = aaee3c04533899f9f8c4ae0c4250ef5fafbe29a3
                                    sha1sum_1m_cd1 = 1fd21bd3ce2a4de8856c7b8fe6fdf80260f6d1c7
                                    unattended_file = unattended/winvista-64-autounattend.xml
                                    floppies = "fl"
                                    floppy_name = images/winvista-sp2-64/answer.vfd

            - Win2008:
                # os level 2 indicator
                os_variant = win2k8
                image_name = win2008-r2
                nic_wname = "LAN-Verbindung"
                variants:
                    - x86_64:
                        vm_arch_name = x86_64
                        variants:
                            -sp1:
                                image_name += -sp1-64
                                install:
                                    steps = steps/Win2008-64.steps
                                    cdrom_cd1 = isos/windows/Windows2008-x64.iso
                                    #en_windows_server_2008_datacenter_enterprise_standard_x64_dvd_X14-26714.iso
                                    md5sum_cd1 = 27c58cdb3d620f28c36333a5552f271c
                                    md5sum_1m_cd1 = efdcc11d485a1ef9afa739cb8e0ca766
                                    sha1sum_cd1 = bd000374709f67e9358814db6ec8f0ddaaa16f70
                                    passwd = 1q2w3eP
                                setup:
                                    steps = steps/Win2008-64-rss.steps
                                unattended_install.cdrom, whql.support_vm_install, svirt_install:
                                    cdrom_cd1 = isos/windows/Windows2008-x64.iso
                                    md5sum_cd1 = 27c58cdb3d620f28c36333a5552f271c
                                    md5sum_1m_cd1 = efdcc11d485a1ef9afa739cb8e0ca766
                                    unattended_file = unattended/win2008-64-autounattend.xml
                                    floppies = "fl"
                                    floppy_name = images/win2008-sp1-64/answer.vfd
                                    extra_cdrom_ks:
                                        floppies = ""
                                        unattended_delivery_method = cdrom
                                        cdroms = "cd1 winutils unattended"
                                        drive_index_cd1 = 1
                                        drive_index_winutils = 2
                                        drive_index_unattended = 3
                                        cdrom_unattended = "images/win2008-sp1-64/autounattend.iso"
                            - sp2:
                                image_name += -sp2-64
                                unattended_install.cdrom, whql.support_vm_install, svirt_install:
                                    cdrom_cd1 = isos/windows/en_windows_server_2008_datacenter_enterprise_standard_sp2_x64_dvd_342336.iso
                                    md5sum_cd1 = e94943ef484035b3288d8db69599a6b5
                                    md5sum_1m_cd1 = ee55506823d0efffb5532ddd88a8e47b
                                    sha1sum_cd1 = 34c7d726c57b0f8b19ba3b40d1b4044c15fc2029
                                    sha1sum_1m_cd1 = 8fe08b03e3531906855a60a78020ac9577dff5ba
                                    unattended_file = unattended/win2008-64-autounattend.xml
                                    floppies = "fl"
                                    floppy_name = images/win2008-sp2-64/answer.vfd
                                    extra_cdrom_ks:
                                        floppies = ""
                                        unattended_delivery_method = cdrom
                                        cdroms = "cd1 winutils unattended"
                                        drive_index_cd1 = 1
                                        drive_index_winutils = 2
                                        drive_index_unattended = 3
                                        cdrom_unattended = "images/win2008-sp2-64/autounattend.iso"
                            - r2:
                                image_name += -r2-64
                                unattended_install.cdrom, whql.support_vm_install, svirt_install:
                                    cdrom_cd1 = isos/windows/en_windows_server_2008_r2_standard_enterprise_datacenter_and_web_x64_dvd_x15-59754.iso
                                    md5sum_cd1 = 0207ef392c60efdda92071b0559ca0f9
                                    md5sum_1m_cd1 = a5a22ce25008bd7109f6d830d627e3ed
                                    sha1sum_cd1 = ad855ea913aaec3f1d0e1833c1aef7a0de326b0a
                                    sha1sum_1m_cd1 = 9194a3aabae25b36e5f73cad001314b2c8d07d14
                                    unattended_file = unattended/win2008-r2-autounattend.xml
                                    floppies = "fl"
                                    floppy_name = images/win2008-r2-64/answer.vfd
                                    extra_cdrom_ks:
                                        floppies = ""
                                        unattended_delivery_method = cdrom
                                        cdroms = "cd1 winutils unattended"
                                        drive_index_cd1 = 1
                                        drive_index_winutils = 2
                                        drive_index_unattended = 3
                                        cdrom_unattended = "images/win2008-r2-64/autounattend.iso"

            - Win7:
                # os level 2 indicator
                os_variant = win7
                image_name = win7
                nic_wname = "LAN-Verbindung"
                variants:
                    - x86_64:
                        image_name += -64
                        vm_arch_name = x86_64
                        install:
                            cdrom_cd1 = isos/windows/en_windows_7_ultimate_x64_dvd_x15-65922.iso
                            md5sum_cd1 = f43d22e4fb07bf617d573acd8785c028
                            md5sum_1m_cd1 = b44d8cf99dbed2a5cb02765db8dfd48f
                            passwd = 1q2w3eP
                            steps = steps/Win7-64.steps
                        setup:
                            steps = steps/Win7-64-rss.steps
                        unattended_install.cdrom, whql.support_vm_install, svirt_install:
                            cdrom_cd1 = isos/windows/en_windows_7_ultimate_x64_dvd_x15-65922.iso
                            md5sum_cd1 = f43d22e4fb07bf617d573acd8785c028
                            md5sum_1m_cd1 = b44d8cf99dbed2a5cb02765db8dfd48f
                            sha1sum_cd1 = 326327cc2ff9f05379f5058c41be6bc5e004baa7
                            sha1sum_1m_cd1 = 4a3903bd5157de54f0702e5263e0a683c5775515
                            unattended_file = unattended/win7-64-autounattend.xml
                            floppies = "fl"
                            floppy_name = images/win7-64/answer.vfd
                            extra_cdrom_ks:
                                floppies = ""
                                unattended_delivery_method = cdrom
                                cdroms = "cd1 winutils unattended virtio"
                                drive_index_cd1 = 1
                                drive_index_winutils = 2
                                drive_index_unattended = 3
                                drive_index_virtio = 4
                                cdrom_unattended = "images/win7-64/autounattend.iso"
                        variants:
                            - sp0:
                            - sp1:
                                image_name += -sp1
                                # install subvariant configuration
                                0preinstall, unattended_install:
                                    configure_install = unattended_install
                                    unattended_file = win7-64-autounattend.xml
                                    cdkey = CDKEY
                                unattended_install.cdrom, whql.support_vm_install, svirt_install:
                                    # NOTE: this is the actual iso (modified from the value in all other cases)
                                    cdrom_cd1 = isos/win7-64-de.iso
                                    md5sum_cd1 = 12b5e43e98ff139bafd9ef39370cc24d
                                    md5sum_1m_cd1 = 44619037ea74a4415ba128464c1dedf4
                                    #sha1sum_cd1 = 36ae90defbad9d9539e649b193ae573b77a71c83
                                    #sha1sum_1m_cd1 = 3bdeb6786ac94bdd982a0bad8593de206b3d7321
                                    floppies = "fl"
                                    floppy_name = images/win7-64-sp1/answer.vfd
                                    extra_cdrom_ks:
                                        floppies = ""
                                        unattended_delivery_method = cdrom
                                        cdroms = "cd1 winutils unattended virtio"
                                        cd_format = ide
                                        drive_index_cd1 = 1
                                        drive_index_winutils = 2
                                        drive_index_unattended = 3
                                        drive_index_virtio = 4
                                        cdrom_unattended = "images/win7-64-sp1/autounattend.iso"
                                        q35:
                                            cd_format = ahci

            - Win8:
                os_variant = win8
                image_name = win8
                nic_wname = "Ethernet"
                shutdown_command = shutdown /s /f /t 0
                reboot_command = shutdown /r /f /t 0
                # it can be removed while bug 821741 is fixed
                cpu_model_flags = ",+sep"
                variants:
                    - x86_64:
                        image_name += -64
                        vm_arch_name = x86_64
                        install:
                            cdrom_cd1 = isos/windows/en_windows_8_enterprise_x64_dvd_917522.iso
                            md5sum = 27aa354b8088527ffcd32007b51b25bf
                            md5sum_1m = 06f8883a669f55f27e98938e71e90d67
                            passwd = 1q2w3eP
                            steps = steps/Win8-64.steps
                        setup:
                            steps = steps/Win8-64-rss.steps
                        unattended_install.cdrom, whql.support_vm_install, svirt_install:
                            cdrom_cd1 = isos/windows/en_windows_8_enterprise_x64_dvd_917522.iso
                            md5sum_cd1 = 27aa354b8088527ffcd32007b51b25bf
                            md5sum_1m_cd1 = 06f8883a669f55f27e98938e71e90d67
                            unattended_file = unattended/win8-64-autounattend.xml
                            floppies = "fl"
                            floppy_name = images/win8-64/answer.vfd
                            extra_cdrom_ks:
                                floppies = ""
                                unattended_delivery_method = cdrom
                                cdroms = "cd1 winutils unattended"
                                drive_index_cd1 = 1
                                drive_index_winutils = 2
                                drive_index_unattended = 3
                                cdrom_unattended = "images/win8-64/autounattend.iso"
                        variants:
                            - @0:
                            - 1:
                                image_name += .1
                                unattended_install.cdrom, whql.support_vm_install, svirt_install:
                                    cdrom_cd1 = isos/ISO/Win8.1/en_windows_8_1_enterprise_x64_dvd_2971902.iso
                                    md5sum_cd1 = 8e194185fcce4ea737f274ee9005ddf0
                                    md5sum_1m_cd1 = ec868109e725742b83363908405d21f3
                                    unattended_file = unattended/win8-64-autounattend.xml
                                    floppies = "fl"
                                    floppy_name = images/win8.1-64/answer.vfd
                                    extra_cdrom_ks:
                                        floppies = ""
                                        unattended_delivery_method = cdrom
                                        cdroms = "cd1 winutils unattended"
                                        drive_index_cd1 = 1
                                        drive_index_winutils = 2
                                        drive_index_unattended = 3
                                        cdrom_unattended = "images/win8.1-64/autounattend.iso"

            - Win10:
                os_variant = win10
                image_name = win10
                nic_wname = "Ethernet"
                variants:
                    - x86_64:
                        image_name += -64
                        vm_arch_name = x86_64
                        # install subvariant configuration
                        0preinstall, unattended_install:
                            configure_install = unattended_install
                            unattended_file = win10-64-autounattend.xml
                            cdkey = CDKEY
                        install:
                            passwd = 1q2w3eP
                        unattended_install.cdrom, whql.support_vm_install, svirt_install, with_installation, check_block_size.4096_512, check_block_size.512_512:
                            cdrom_cd1 = isos/sw_dvd5_win_ent_ltsb_2016_64bit_german_intl_mlf_x21-07431.iso
                            md5sum_cd1 = b4a4792950dbfb2583f2dfaf040a62fa
                            md5sum_1m_cd1 = e49c1995f0b94fbeb08447eb16c0479e
                            floppies = "fl"
                            floppy_name = images/win10-64/answer.vfd
                            extra_cdrom_ks:
                                floppies = ""
                                unattended_delivery_method = cdrom
                                cdroms = "cd1 winutils unattended"
                                drive_index_cd1 = 1
                                drive_index_winutils = 2
                                drive_index_unattended = 3
                                cdrom_unattended = "images/win10-64/autounattend.iso"
